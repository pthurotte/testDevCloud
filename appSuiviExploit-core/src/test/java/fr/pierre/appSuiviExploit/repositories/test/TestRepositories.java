package fr.pierre.appSuiviExploit.repositories.test;

import java.util.List;

import junit.framework.Assert;

import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.transaction.annotation.Transactional;

import fr.pierre.appSuiviExploit.domain.Serveur;
import fr.pierre.appSuiviExploit.repositories.ServeurRepository;
import fr.pierre.appSuiviExploit.util.test.AbstractUnitTest;


@Transactional
public class TestRepositories extends AbstractUnitTest{
	
	@Autowired
	private ServeurRepository mServRepo;

	@Override
	protected String getXmlDataSetResourceName() {
		return "/data/dataAppSuiviExploit.xml";
	}
	
	@Test
	public void testCreateServeur(){
		
		Serveur vServ=new Serveur();
		mServRepo.save(vServ);
		
		List<Serveur> vListServ=mServRepo.findAll();
		
		Assert.assertNotNull(vListServ);
	}

}
